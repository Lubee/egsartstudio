window.fc=window.fc||{},window.fc.laya=window.fc.laya||{},window.fc.laya.utils=window.fc.laya.utils||{},function(t,e){"use strict";class s{}s.XHR_RESPONSE="XHR_RESPONSE";class r extends e.Script{constructor(){super()}static Get3dResUrl(t){return this.threeDResRootPath+t}static Get3dPrefabUrl(t){return this.threeDResRootPath+t+".lh"}static Get3dSceneUrl(t){return this.threeDResRootPath+t+".ls"}static CurScene3dUrl(){return this.curScene3d?this.curScene3d.fc_res_url:null}static LoadRes(t,e){}static LoadResAsyn(t,e,s,r){}static LoadSprite3d(t,s){return e.loader.getRes(this.Get3dPrefabUrl(t))}static LoadSpriteAsyn(t,s,r,i){var h=this.Get3dPrefabUrl(t),n=e.loader.getRes(h);if(n)return r&&r.runWith(1),void(s&&s.runWith(n));e.loader.create(h,e.Handler.create(null,function(t){s&&s.runWith(t)}),r)}static LoadScene3d(t,s){var r=this.curScene3d;this.curScene3d=null;var i=null!=r?r.fc_scene_url:null;return r&&(r.removeSelf(),r.destroy(),r=null),this.curScene3d=e.loader.getRes(this.Get3dSceneUrl(t)),this.curScene3d&&(this.curScene3d.fc_scene_url=t),i&&this.unloadSceneRes(i),this.curScene3d}static LoadScene3dAsyn(t,s,r){this.curDownloadSceneUrl!=t&&e.loader.cancelLoadByUrl(this.curDownloadSceneUrl),this.curDownloadSceneUrl=null;var i=this.curScene3d;this.curScene3d=null;var h=null!=i?i.fc_scene_url:null;i&&(i.removeSelf(),i.destroy(),i=null,e.loader.clearRes(h));var n=this.Get3dSceneUrl(t);if(this.curScene3d=e.loader.getRes(n),this.curScene3d)return this.curScene3d.fc_scene_url=t,h&&this.unloadSceneRes(h),r&&r.runWith(1),s&&s.runWith(this.curScene3d),this.curScene3d;this.curDownloadSceneUrl=n;var a=this;return e.loader.create(n,e.Handler.create(null,function(e){a.curDownloadSceneUrl=null,a.curScene3d=e,a.curScene3d&&(a.curScene3d.fc_scene_url=t),h&&a.unloadSceneRes(h),s&&s.runWith(a.curScene3d)}),r),null}static unloadSceneRes(t){e.loader.load(this.Get3dResUrl(t+".json"),e.Handler.create(this,this.DestroyScene3dRes,[this.Get3dResUrl(t+".json")]))}static printSceneDependences(t){e.loader.load(this.Get3dResUrl(t+".json"),e.Handler.create(this,this.printScene3dRes,[this.Get3dResUrl(t+".json")]))}static printScene3dRes(t){var s=e.loader.getRes(t);if(null!=s)for(var r={},i=s.length-1;i>-1;i--){var h=this.Get3dResUrl(s[i]),n=e.loader.getRes(h);null==n||(r[h]=n.referenceCount)}}static DestroyScene3dRes(t){var s=e.loader.getRes(t);if(null!=s)for(var r=s.length-1;r>-1;r--){var i=this.Get3dResUrl(s[r]),h=e.loader.getRes(i);null==h||h.referenceCount>0||(h.destroy(),e.loader.clearRes(i))}}}r.curScene3d=null,r.curDownloadSceneUrl=null,r.threeDResRootPath="3dres/Conventional/",e.ILaya.regClass(r),e.ClassUtils.regClass("fc.laya.Resource",r),t.Event=s,t.Resource=r}(window.fc.laya)(function(t,e){"use strict";class s{static hex_md5(t){return this.binl2hex(this.core_md5(this.str2binl(t),t.length*this.chrsz))}static b64_md5(t){return this.binl2b64(this.core_md5(this.str2binl(t),t.length*this.chrsz))}static str_md5(t){return this.binl2str(this.core_md5(this.str2binl(t),t.length*this.chrsz))}static hex_hmac_md5(t,e){return this.binl2hex(this.core_hmac_md5(t,e))}static b64_hmac_md5(t,e){return this.binl2b64(this.core_hmac_md5(t,e))}static str_hmac_md5(t,e){return this.binl2str(this.core_hmac_md5(t,e))}static hex_md5(t){return this.binl2hex(this.core_md5(this.str2binl(t),t.length*this.chrsz))}static b64_md5(t){return this.binl2b64(this.core_md5(this.str2binl(t),t.length*this.chrsz))}static str_md5(t){return this.binl2str(this.core_md5(this.str2binl(t),t.length*this.chrsz))}static hex_hmac_md5(t,e){return this.binl2hex(this.core_hmac_md5(t,e))}static b64_hmac_md5(t,e){return this.binl2b64(this.core_hmac_md5(t,e))}static str_hmac_md5(t,e){return this.binl2str(this.core_hmac_md5(t,e))}static core_md5(t,e){t[e>>5]|=128<<e%32,t[14+(e+64>>>9<<4)]=e;for(var s=1732584193,r=-271733879,i=-1732584194,h=271733878,n=0;n<t.length;n+=16){var a=s,c=r,l=i,d=h;s=this.md5_ff(s,r,i,h,t[n+0],7,-680876936),h=this.md5_ff(h,s,r,i,t[n+1],12,-389564586),i=this.md5_ff(i,h,s,r,t[n+2],17,606105819),r=this.md5_ff(r,i,h,s,t[n+3],22,-1044525330),s=this.md5_ff(s,r,i,h,t[n+4],7,-176418897),h=this.md5_ff(h,s,r,i,t[n+5],12,1200080426),i=this.md5_ff(i,h,s,r,t[n+6],17,-1473231341),r=this.md5_ff(r,i,h,s,t[n+7],22,-45705983),s=this.md5_ff(s,r,i,h,t[n+8],7,1770035416),h=this.md5_ff(h,s,r,i,t[n+9],12,-1958414417),i=this.md5_ff(i,h,s,r,t[n+10],17,-42063),r=this.md5_ff(r,i,h,s,t[n+11],22,-1990404162),s=this.md5_ff(s,r,i,h,t[n+12],7,1804603682),h=this.md5_ff(h,s,r,i,t[n+13],12,-40341101),i=this.md5_ff(i,h,s,r,t[n+14],17,-1502002290),r=this.md5_ff(r,i,h,s,t[n+15],22,1236535329),s=this.md5_gg(s,r,i,h,t[n+1],5,-165796510),h=this.md5_gg(h,s,r,i,t[n+6],9,-1069501632),i=this.md5_gg(i,h,s,r,t[n+11],14,643717713),r=this.md5_gg(r,i,h,s,t[n+0],20,-373897302),s=this.md5_gg(s,r,i,h,t[n+5],5,-701558691),h=this.md5_gg(h,s,r,i,t[n+10],9,38016083),i=this.md5_gg(i,h,s,r,t[n+15],14,-660478335),r=this.md5_gg(r,i,h,s,t[n+4],20,-405537848),s=this.md5_gg(s,r,i,h,t[n+9],5,568446438),h=this.md5_gg(h,s,r,i,t[n+14],9,-1019803690),i=this.md5_gg(i,h,s,r,t[n+3],14,-187363961),r=this.md5_gg(r,i,h,s,t[n+8],20,1163531501),s=this.md5_gg(s,r,i,h,t[n+13],5,-1444681467),h=this.md5_gg(h,s,r,i,t[n+2],9,-51403784),i=this.md5_gg(i,h,s,r,t[n+7],14,1735328473),r=this.md5_gg(r,i,h,s,t[n+12],20,-1926607734),s=this.md5_hh(s,r,i,h,t[n+5],4,-378558),h=this.md5_hh(h,s,r,i,t[n+8],11,-2022574463),i=this.md5_hh(i,h,s,r,t[n+11],16,1839030562),r=this.md5_hh(r,i,h,s,t[n+14],23,-35309556),s=this.md5_hh(s,r,i,h,t[n+1],4,-1530992060),h=this.md5_hh(h,s,r,i,t[n+4],11,1272893353),i=this.md5_hh(i,h,s,r,t[n+7],16,-155497632),r=this.md5_hh(r,i,h,s,t[n+10],23,-1094730640),s=this.md5_hh(s,r,i,h,t[n+13],4,681279174),h=this.md5_hh(h,s,r,i,t[n+0],11,-358537222),i=this.md5_hh(i,h,s,r,t[n+3],16,-722521979),r=this.md5_hh(r,i,h,s,t[n+6],23,76029189),s=this.md5_hh(s,r,i,h,t[n+9],4,-640364487),h=this.md5_hh(h,s,r,i,t[n+12],11,-421815835),i=this.md5_hh(i,h,s,r,t[n+15],16,530742520),r=this.md5_hh(r,i,h,s,t[n+2],23,-995338651),s=this.md5_ii(s,r,i,h,t[n+0],6,-198630844),h=this.md5_ii(h,s,r,i,t[n+7],10,1126891415),i=this.md5_ii(i,h,s,r,t[n+14],15,-1416354905),r=this.md5_ii(r,i,h,s,t[n+5],21,-57434055),s=this.md5_ii(s,r,i,h,t[n+12],6,1700485571),h=this.md5_ii(h,s,r,i,t[n+3],10,-1894986606),i=this.md5_ii(i,h,s,r,t[n+10],15,-1051523),r=this.md5_ii(r,i,h,s,t[n+1],21,-2054922799),s=this.md5_ii(s,r,i,h,t[n+8],6,1873313359),h=this.md5_ii(h,s,r,i,t[n+15],10,-30611744),i=this.md5_ii(i,h,s,r,t[n+6],15,-1560198380),r=this.md5_ii(r,i,h,s,t[n+13],21,1309151649),s=this.md5_ii(s,r,i,h,t[n+4],6,-145523070),h=this.md5_ii(h,s,r,i,t[n+11],10,-1120210379),i=this.md5_ii(i,h,s,r,t[n+2],15,718787259),r=this.md5_ii(r,i,h,s,t[n+9],21,-343485551),s=this.safe_add(s,a),r=this.safe_add(r,c),i=this.safe_add(i,l),h=this.safe_add(h,d)}return Array(s,r,i,h)}static md5_cmn(t,e,s,r,i,h){return this.safe_add(this.bit_rol(this.safe_add(this.safe_add(e,t),this.safe_add(r,h)),i),s)}static md5_ff(t,e,s,r,i,h,n){return this.md5_cmn(e&s|~e&r,t,e,i,h,n)}static md5_gg(t,e,s,r,i,h,n){return this.md5_cmn(e&r|s&~r,t,e,i,h,n)}static md5_hh(t,e,s,r,i,h,n){return this.md5_cmn(e^s^r,t,e,i,h,n)}static md5_ii(t,e,s,r,i,h,n){return this.md5_cmn(s^(e|~r),t,e,i,h,n)}static core_hmac_md5(t,e){var s=this.str2binl(t);s.length>16&&(s=this.core_md5(s,t.length*this.chrsz));for(var r=Array(16),i=Array(16),h=0;h<16;h++)r[h]=909522486^s[h],i[h]=1549556828^s[h];var n=this.core_md5(r.concat(this.str2binl(e)),512+e.length*this.chrsz);return this.core_md5(i.concat(n),640)}static safe_add(t,e){var s=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(s>>16)<<16|65535&s}static bit_rol(t,e){return t<<e|t>>>32-e}static str2binl(t){for(var e=Array(),s=(1<<this.chrsz)-1,r=0;r<t.length*this.chrsz;r+=this.chrsz)e[r>>5]|=(t.charCodeAt(r/this.chrsz)&s)<<r%32;return e}static binl2str(t){for(var e="",s=(1<<this.chrsz)-1,r=0;r<32*t.length;r+=this.chrsz)e+=String.fromCharCode(t[r>>5]>>>r%32&s);return e}static binl2hex(t){for(var e=this.hexcase?"0123456789ABCDEF":"0123456789abcdef",s="",r=0;r<4*t.length;r++)s+=e.charAt(t[r>>2]>>r%4*8+4&15)+e.charAt(t[r>>2]>>r%4*8&15);return s}static binl2b64(t){for(var e="",s=0;s<4*t.length;s+=3)for(var r=(t[s>>2]>>s%4*8&255)<<16|(t[s+1>>2]>>(s+1)%4*8&255)<<8|t[s+2>>2]>>(s+2)%4*8&255,i=0;i<4;i++)8*s+6*i>32*t.length?e+=this.b64pad:e+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(r>>6*(3-i)&63);return e}}s.hexcase=0,s.b64pad="",s.chrsz=8,e.ILaya.regClass(s),e.ClassUtils.regClass("fc.laya.utils.Md5Utils",s);class r{static compareVersion(t,e){t=t.split("."),e=e.split(".");for(var s=Math.max(t.length,e.length);t.length<s;)t.push("0");for(;e.length<s;)e.push("0");for(var r=0;r<s;r++){var i=parseInt(t[r]),h=parseInt(e[r]);if(i>h)return 1;if(i<h)return-1}return 0}static isToday(t){var e=new Date(Date.now()),s=new Date(t);return e.getFullYear()==s.getFullYear()&&e.getMonth()==s.getMonth()&&e.getDate()==s.getDate()}static random(t,e){return Math.random()*(e-t)+t<<0}static IsNumber(t){return!(!/^\d+(\.\d+)?$/.test(t)&&!/^(-(([0-9]+\.[0-9]*[1-9][0-9]*)|([0-9]*[1-9][0-9]*\.[0-9]+)|([0-9]*[1-9][0-9]*)))$/.test(t))}static number2String4(t){var e=t.toString();return"0000".slice(0,-e.length)+e}static number2String3(t){var e=t.toString();return"000".slice(0,-e.length)+e}static number2String2(t){var e=t.toString();return"00".slice(0,-e.length)+e}static array2UrlStrArgs(t){if(!t||0==t.length)return"";if(1==t.length)return t[0];for(var e=t[0]+"="+t[1],s=2;s+1<t.length;s+=2)e+="&"+t[s]+"="+t[s+1];return e}static object2UrlStrArgs(t){if(t){var e="";for(var s in t)t.hasOwnProperty(s)&&(e+=s+"="+t[s]+"&");return e.substr(0,e.length-1)}return""}}e.ILaya.regClass(r),e.ClassUtils.regClass("fc.laya.utils.MiscUtils",r);class i{static getArgsSign(t,e){for(var s=Object.keys(t).sort(),r="",i=0;i<s.length;i++)r+=s[i]+"="+t[s[i]];return e&&(r+=e),fc.laya.Md5Utils.hex_md5(r).toLowerCase()}static xhrPost(t,s){if(null==i.xhrRequestList[t]){i.xhrRequestList[t]=Date.now();var r=fc.laya.MiscUtils.object2UrlStrArgs(s),h=new e.HttpRequest;h.http.timeout=1e4,h.once(e.Event.ERROR,this,this.onXHRError,[t,s]),h.once(e.Event.COMPLETE,this,this.onXHRCompleted,[t,s]),h.send(t,r,"post","text")}}static xhrPostWithSign(t,s,r){if(null==i.xhrRequestList[t]){i.xhrRequestList[t]=Date.now(),s.sign=this.getArgsSign(s,r);var h=fc.laya.MiscUtils.object2UrlStrArgs(s),n=new e.HttpRequest;n.http.timeout=1e4,n.once(e.Event.ERROR,this,this.onXHRError,[t,s]),n.once(e.Event.COMPLETE,this,this.onXHRCompleted,[t,s]),n.send(t,h,"post","text")}}static xhrPostWithSignAndHeader(t,s,r,h){if(null==i.xhrRequestList[t]){i.xhrRequestList[t]=Date.now(),s.sign=this.getArgsSign(s,r);for(var n=["Content-Type","application/x-www-form-urlencoded"],a=Object.keys(h),c=0;c<a.length;c++)n.push(a[c]),n.push(h[a[c]]);var l=fc.laya.MiscUtils.object2UrlStrArgs(s),d=new e.HttpRequest;d.http.timeout=1e4,d.once(e.Event.ERROR,this,this.onXHRError,[t,s]),d.once(e.Event.COMPLETE,this,this.onXHRCompleted,[t,s]),d.send(t,l,"post","text",n)}}static onXHRError(t,s,r){i.xhrRequestList[t]=null,console.log("onXHRError:"+t+",params:"+JSON.stringify(s)+",response:"+r),e.stage.event(this.NET_XHR_RESPONSE,[0,t,s,r])}static onXHRCompleted(t,s,r){i.xhrRequestList[t]=null;var h=JSON.parse(r);h.code&&200==h.code?null!=h.data?1==h.data.status?e.stage.event(this.NET_XHR_RESPONSE,[1,t,s,h]):e.stage.event(this.NET_XHR_RESPONSE,[0,t,s,h.data.msg]):e.stage.event(this.NET_XHR_RESPONSE,[0,t,s,"登陆失败，数据体为空"]):e.stage.event(this.NET_XHR_RESPONSE,[0,t,s,h.msg])}}i.XHR_RESPONSE=fc.laya.Event.XHR_RESPONSE,i.xhrRequestList={},e.ILaya.regClass(i),e.ClassUtils.regClass("fc.laya.XhrUtils",i),t.XhrUtils=i,t.Md5Utils=s,t.MiscUtils=r}(window.fc.laya.utils,Laya));