window.fc=window.fc||{},window.fc.adapter=window.fc.adapter||{},function(n,e){"use strict";window.zsSdk=function(){function zsSdk(){}return zsSdk.init=function(){console.log("zsSdk.init"),qg.onError(function(n){console.error(n)}),qg.initAdService({appId:window.zs.oppo.appId,isDebug:!1,success:function(n){console.log("success")},fail:function(n){console.log("fail:"+n.code+n.msg)},complete:function(n){console.log("complete")}})},this.loginNum=0,zsSdk.login=function(n,e){this.loginSuccess=n,this.loginFailed=e,this.loginNum++,qg.login({success:function(e){JSON.stringify(e.data);n&&n.runWith({identityId:e.data.token})},fail:function(n){this.loginNum<=3?setTimeout(function(){console.log("----------延迟登录"),this.login(this.loginSuccess,this.loginFailed)},200):e&&e.runWith({code:2,desc:"login platform error"})}})},zsSdk.loadSubpackage=function(n,e,o,i){var t=qg.loadSubpackage({name:n,success(n){o&&o.runWith(1)},fail(n){i&&i.runWith(1)}});return!!t&&(e&&t.onProgressUpdate(function(n){e.runWith(n.progress)}),!0)},zsSdk.createUserInfoButton=function(n,e){},zsSdk.showUserInfoButton=function(){},zsSdk.hideUserInfoButton=function(){},zsSdk.destroyUserInfoButton=function(){},zsSdk.openShare=function(n,e){},zsSdk.videoAdUnit=null,zsSdk.createVideoAdNum=0,zsSdk.videoAd=null,zsSdk.videoReady=!1,zsSdk.videoRequirePlay=!1,zsSdk.videoLastPlayTime=0,zsSdk.videoCompletedHandler=null,zsSdk.videoInterruptHandler=null,zsSdk.videoErrorHandler=null,zsSdk.initVideoAD=function(n,e){if(console.log("initVideoAD:"+n),null!=n&&""!=n){if(this.videoAdUnit=n,this.videoErrorHandler=e,this.createVideoAdNum+=1,this.videoAd=qg.createRewardedVideoAd({posId:n}),null==this.videoAd){if(this.createVideoAdNum>3)return;console.log("初始化视频失败，重新初始化:"+this.createVideoAdNum),this.initVideoAD(this.videoAdUnit,this.videoErrorHandler)}var o=this;this.videoReady=!1,this.videoRequirePlay=!1,this.videoAd.load(),this.videoAd.onLoad(function(){console.log("激励视频加载成功"),o.videoReady=!0,o.videoRequirePlay&&(o.videoAd.show(),o.videoRequirePlay=!1,o.videoLastPlayTime=Date.now())}),this.videoAd.onError(function(n){console.log("激励视频错误：",n),o.videoAd=null,o.videoErrorHandler&&o.videoErrorHandler.runWith(n)}),this.videoAd.onClose(function(n){o.videoReady=!1,o.videoAd.load(),n.isEnded?(o.videoCompletedHandler&&o.videoCompletedHandler.run(),console.log("激励视频广告完成，发放奖励:"+Date.now())):(o.videoInterruptHandler&&o.videoInterruptHandler.run(),console.log("激励视频广告取消关闭，不发放奖励:"+Date.now()))})}},zsSdk.isVideoEnable=function(){return null!=this.videoAd&&this.videoReady},zsSdk.playVideo=function(n,e,o){null!=this.videoAd?(this.videoErrorHandler=o,this.videoCompletedHandler=n,this.videoInterruptHandler=e,this.videoReady?(this.videoLastPlayTime=Date.now(),this.videoAd.show(),console.log("playVideo"+Date.now())):this.videoRequirePlay=!0):o&&o.runWith("video disable")},zsSdk.bannerAdUnit=null,zsSdk.bannerAd=null,zsSdk.bannerErrorHandler=null,zsSdk.bannerStatus="",zsSdk.bannerCD=1e4,zsSdk.createBannerNum=0,zsSdk.initBannerAD=function(n,e){if(null!=n&&""!=n&&(console.log("初始化banner:"+n),this.createBannerNum+=1,this.bannerAdUnit=n,this.bannerErrorHandler=e,qg.getSystemInfoSync().platformVersionCode>=1051)){if(this.bannerAd=qg.createBannerAd({adUnitId:n}),null==this.bannerAd){if(console.log("banner create fail"),this.createBannerNum>3)return;this.initBannerAD(this.bannerAdUnit,this.bannerErrorHandler)}console.log("banner create success"),this.bannerStatus="init";var o=this;this.bannerAd.onError(function(n){console.log("bannerAd error:",n),o.bannerErrorHandler&&o.bannerErrorHandler.run(),o.bannerAd||console.log("bannerAd lose")})}},zsSdk.showBanner=function(){this.bannerStatus="show",this.bannerAd&&(console.log("bannerAd show"),this.bannerAd.show())},zsSdk.hideBanner=function(){this.bannerStatus="hide",this.bannerAd&&(console.log("bannerAd hide"),this.bannerAd.hide())},zsSdk.insertAd=null,zsSdk.insertAdState=!1,zsSdk.insertAdErrorHandler=null,zsSdk.insertAdClosedHandler=null,zsSdk.insertAdLoadedHandler=null,zsSdk.insertAdCompletedHandler=null,zsSdk.initInsertAd=function(n,e){if(null!=n&&""!=n)if(console.log("初始化插屏广告："+n),this.insertAdErrorHandler=e,this.insertAd=qg.createInsertAd({posId:n}),null!=this.insertAd){var o=this;this.insertAd.onError(function(n){console.log("插屏广告失败"),console.log(n),o.insertAd=null,o.insertAdState=-1,o.insertAdErrorHandler&&o.insertAdErrorHandler.runWith(n)}),this.insertAd.onLoad(function(){o.insertAdState=1,console.log("插屏广告加载成功"),o.insertAdLoadedHandler&&o.insertAdLoadedHandler.run()}),this.insertAd.onClose(function(){o.insertAdClosedHandler&&o.insertAdClosedHandler.runWith(err)}),this.insertAdState=0,this.insertAd.load()}else console.log("初始化插屏广告失败")},zsSdk.loadInsertAd=function(n,e){if(null==this.insertAd)return console.log("加载插屏广告失败"),void(e&&e.runWith("error"));1==this.insertAdState?n&&n.run():(this.insertAdState=0,this.insertAdErrorHandler=e,this.insertAdLoadedHandler=n,this.insertAd.load())},zsSdk.showInsertAd=function(n){console.log("播放插屏广告：0"),null!=this.insertAd&&(this.insertAdClosedHandler=n,this.insertAd.show(),console.log("播放插屏广告：0"))},zsSdk.nativeAd=null,zsSdk.nativeAdErrorHandler=null,zsSdk.nativeAdLoadedHandler=null,zsSdk.initNativeAd=function(n,e){null!=n&&""!=n&&(this.nativeAd&&this.nativeAd.destroy(),console.log("原生广告:"+n),this.nativeAd=qg.createNativeAd({posId:n}),null!=this.nativeAd?(this.nativeAdErrorHandler=e,this.nativeAd.onError(function(n){console.log("原生广告失败"),console.log(n),zsSdk.nativeAdErrorHandler&&zsSdk.nativeAdErrorHandler.runWith(n)}),this.nativeAd.onLoad(function(n){console.log("原生广告加载成功"),console.log(n),zsSdk.nativeAdLoadedHandler?zsSdk.nativeAdLoadedHandler.runWith(n):console.log("nativeAdLoadedHandler is null")})):e&&e.runWith("error"))},zsSdk.loadNativeAd=function(n,e){if(null==this.nativeAd)return console.log("原生广告失败"),void(e&&e.runWith("error"));this.nativeAdErrorHandler=e,this.nativeAdLoadedHandler=n,this.nativeAd.load(),console.log("loadAd")},zsSdk.reportNativeAdShow=function(n){this.nativeAd&&(this.nativeAd.reportAdShow({adId:n}),console.log("report OPPO NativeAd Show:"+Date.now()))},zsSdk.reportNativeAdClick=function(n){this.nativeAd&&(this.nativeAd.reportAdClick({adId:n}),console.log("report OPPO NativeAd Click:"+Date.now()))},zsSdk.setUserCloudStorage=function(n,e,o,i){},zsSdk.hasDesktopIcon=function(n){qg.hasShortcutInstalled({success:function(e){n&&n.runWith({hasIcon:e})},fail:function(n){console.log("request desktop icon error:"+JSON.stringify(n))}})},zsSdk.createDesktopIcon=function(n){qg.installShortcut({success:function(e){n&&n.runWith(),console.log("create DesktopIcon success:",e)},fail:function(n){console.log("create desktop icon fail",n)},complete:function(){console.log("create desktop icon complete")}})},zsSdk.reportMonitor=function(n,e){qg.getSystemInfoSync().platformVersionCode>=1060&&qg.reportMonitor(n,e)},zsSdk}(),window.zsDevice=function(){function zsDevice(){}return zsDevice.deviceInfo=null,zsDevice.init=function(){this.deviceInfo=qg.getSystemInfoSync(),console.log(this.deviceInfo),console.log("zsDevice.init")},zsDevice.onShow=function(n){qg.onShow(function(e){console.log("zsDevice.show:"+Date.now()),n&&n.runWith(e)})},zsDevice.onHide=function(n){qg.onHide(function(){console.log("zsDevice.hide:"+Date.now()),n&&n.run()})},zsDevice.vibrateShort=function(){qg.vibrateShort({fail:function(){console.log("vibrateShort failed")},success:function(){},complete:function(){}})},zsDevice.vibrateLong=function(){qg.vibrateLong({fail:function(){console.log("vibrateLong failed")},success:function(){},complete:function(){}})},zsDevice.isNetValid=function(){return!0},zsDevice.statusBarHeight=function(){return this.deviceInfo?this.deviceInfo.notchHeight:0},zsDevice.screenWidth=function(){return this.deviceInfo?this.deviceInfo.screenWidth:1},zsDevice.screenHeight=function(){return this.deviceInfo?this.deviceInfo.screenHeight:1},zsDevice}()}(window.fc.adapter,Laya);