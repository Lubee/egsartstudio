window.fc=window.fc||{},window.fc.adapter=window.fc.adapter||{},function(e,i){"use strict";class n{static init(){wx.showShareMenu({withShareTicket:!0}),window.zsResUrl&&(i.URL.basePath=window.zsResUrl,i.MiniAdpter.nativefiles=window.zsNativefiles),i.MiniAdpter.getUrlEncode=function(e,i){return-1!=e.indexOf(".fnt")||-1!=e.indexOf(".json")?"utf8":"arraybuffer"==i?"":"ascii"},console.log("wxChannel.init")}static login(e,i){this.loginSuccess=e,this.loginFailed=i,this.loginNum++,wx.login({success:function(n){n.code?e&&e.runWith({identityId:n.code}):this.loginNum<=3?this.login(this.loginSuccess,this.loginFailed):(this.loginNum=0,i&&i.runWith({code:2,desc:"Code不存在"}))},fail:function(){this.loginNum<=3?this.login(this.loginSuccess,this.loginFailed):(this.loginNum=0,i&&i.runWith({code:2,desc:"login platform error"}))},complete:function(){}})}static loadSubpackage(e,i,n,t){var r=wx.loadSubpackage({name:e,success(e){n&&n.runWith(1)},fail(e){t&&t.runWith(1)}});return!!r&&(i&&r.onProgressUpdate(function(e){i.runWith(e.progress)}),!0)}static openShare(e,i){wx.shareAppMessage({title:e,imageUrl:i})}static initVideoAD(e){if(null!=e&&""!=e){if(this.rewardedVideoAd=wx.createRewardedVideoAd({adUnitId:e}),null!=this.rewardedVideoAd){var i=this;this.rewardedVideoAd.onError(function(e){console.log(e),i.rewardedVideoAd=null,i.errorHandler&&i.errorHandler.runWith(e)}),this.rewardedVideoAd.onClose(function(e){e&&e.isEnded||void 0===e?i.videoCompletedHandler&&i.videoCompletedHandler.run():i.videoInterruptHandler&&i.videoInterruptHandler.run()})}}else this.rewardedVideoAd=null}static isVideoEnable(){return null!=this.rewardedVideoAd}static playVideo(e,i,n){if(null!=this.rewardedVideoAd){this.videoErrorHandler=n,this.videoCompletedHandler=e,this.videoInterruptHandler=i;var t=this;this.rewardedVideoAd.show().catch(function(e){t.rewardedVideoAd.load().then(function(){t.rewardedVideoAd.show()})})}else n&&n.runWith("video disable")}static initFullScreenAD(e,i){var n=wx.getSystemInfoSync();n.SDKVersion<="2.6.0"?i&&i.runWith(n.SDKVersion+" <= 2.6.0"):this.fullScreenADUnitId=e}static loadFullScreenAD(e,i){if(null!=this.fullScreenADUnitId&&(this.fullScreenAD=wx.createInterstitialAd({adUnitId:this.fullScreenADUnitId}),null!=this.fullScreenAD)){var n=this;this.fullScreenAD.onLoad(function(){e&&e.run()}),this.fullScreenAD.onError(function(e){console.log(e),n.fullScreenAD=null,i&&i.runWith(e)})}}static showFullScreenAD(e){if(null!=this.fullScreenAD){var i=this;this.fullScreenAD.onClose(function(){i.fullScreenAD=null,e&&e.runWith(err)}),this.fullScreenAD.show()}}}n.loginNum=0,n.rewardedVideoAd=null,n.videoCompletedHandler=null,n.videoInterruptHandler=null,n.videoErrorHandler=null,n.fullScreenAD=null,n.fullScreenADUnitId=null,i.ILaya.regClass(n),i.ClassUtils.regClass("fc.framework.Channel",n);var t=["2g","3g","4g","5g","wifi"];class r{static get statusBarHeight(){return this.deviceInfo?this.deviceInfo.statusBarHeight:0}static get screenWidth(){return this.deviceInfo?this.deviceInfo.screenWidth:1}static get screenHeight(){return this.deviceInfo?this.deviceInfo.screenHeight:1}static init(e,i){this.sDeviceInfo=wx.getSystemInfoSync(),console.log(this.sDeviceInfo),console.log("wxDeviceAdapter.init"),wx.onShow(function(i){console.log("wxDeviceAdapter.show:"+Date.now()),e&&e.runWith(i)}),wx.onHide(function(){console.log("wxDeviceAdapter.hide:"+Date.now()),i&&i.run()});var n=this;wx.onNetworkStatusChange(function(e){n.sNetworkType=e.networkType,n.sIsNetConnected=e.isConnected}),wx.getNetworkType({success(e){n.sNetworkType=e.networkType}})}static vibrateShort(){wx.vibrateShort({fail:function(){console.log("vibrateShort failed")}})}static vibrateLong(){wx.vibrateLong({fail:function(){console.log("vibrateShort failed")}})}static isNetValid(){return this.sIsNetConnected&&-1!=t.indexOf(this.sNetworkType)}}r.sAudioArr=[],r.sSoundInfo={},r.sContinue=!1,r.sDeviceInfo=null,r.sNetworkType=null,r.sIsNetConnected=!1,i.ILaya.regClass(r),i.ClassUtils.regClass("fc.framework.Device",r),e.Channel=n,e.Device=r}(window.fc.adapter,Laya);